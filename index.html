<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Esempi Armonia</title>
    <script src="opensheetmusicdisplay.min.js"></script>
</head>
<body>
    <h1>Esempi di Armonia</h1>
    <div id="controls">
        <button onclick="changeTranspose(1)">Trasporta +1</button>
        <button onclick="changeTranspose(-1)">Trasporta -1</button>
    </div>
    <div id="score-container"></div>

    <script>
        window.onload = function() {
            // Usiamo un piccolo ritardo per essere sicuri che il file sia letto
            setTimeout(function() {
                if (typeof opensheetmusicdisplay !== 'undefined') {
                    var osmd = new opensheetmusicdisplay.OpenSheetMusicDisplay("score-container");
                    // Cambia "esempio.xml" con il tuo file reale
                    osmd.load("prova.xml").then(function() {
                        osmd.render();
                        window.osmd = osmd; // Lo rendiamo globale per il trasporto
                    });
                } else {
                    alert("Il file opensheetmusicdisplay.min.js non Ã¨ stato trovato nella cartella!");
                }
            }, 500);
        };

        function changeTranspose(semitones) {
            if(window.osmd) {
                window.osmd.Sheet.Transpose += semitones;
                window.osmd.updateGraphic();
                window.osmd.render();
            }
        }
    </script>
</body>
</html>
