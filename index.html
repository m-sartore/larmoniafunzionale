<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esempi di Armonia</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; font-family: sans-serif; background: #2c3e50; }
        header { color: white; padding: 10px; text-align: center; }
        iframe { width: 100%; height: calc(100% - 60px); border: none; background: white; }
        .debug-link { color: #f1c40f; font-size: 12px; text-decoration: none; }
    </style>
</head>
<body>

    <header>
        <strong>Esempio Musicale</strong><br>
        <a id="debug" class="debug-link" target="_blank">Verifica se il file esiste (clicca qui)</a>
    </header>

    <iframe id="osmd-player" src=""></iframe>

    <script>
        // --- MODIFICA SOLO QUI ---
        const UTENTE = "m-sartore"; 
        const REPO = "larmoniafunzionale";
        // -------------------------

        const file = "spartiti/prova.mxl";
        const rawUrl = `https://raw.githubusercontent.com/${UTENTE}/${REPO}/main/spartiti/${file}`;
        
        // Aggiorna il link di debug per noi
        document.getElementById('debug').href = rawUrl;
        document.getElementById('debug').innerText = "Link generato: " + rawUrl;

        // Carica la demo ufficiale con il tuo file
        const demoBase = "https://opensheetmusicdisplay.github.io/demo/?score=";
        document.getElementById('osmd-player').src = demoBase + encodeURIComponent(rawUrl);
    </script>

</body>
</html>
